<div class="container2" ng-controller='SimularPrecioCtrl'>
	<div class="margenPanelRigth">
		<fieldset>
			<legend>Simulación de Precio</legend>
            </br>
            <img ng-if="isLoading" src="Images/Wait.gif"/>
            <div class="alert alert-warning" ng-if="showError">{{mensaje}}</div>
            <fieldset class="fieldset-border">
                <legend class="legend-border">Lista de Productos afectados</legend>
                <div class="row">
                    <div class="col-sm-7">
                        <table class="table table-bordered table-condensed table-hover">
                            <div class="col-sm-4">
                                <thead>
                                    <tr>
                                        <th>Producto</th>
                                        <th class="text-center">Costo actual</th>
                                        <th class="text-center">Precio actual</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="alerta in alertaLista | start: (currentPage - 1) * itemsPerPage | limitTo: itemsPerPage"
                    ng-click="selected.item = row" class="link">
                                        <td><a ng-click="productoDetalle(alerta.Id)">{{alerta.nombre}}</a></td>
                                        <td class="text-right">{{alerta.costo |  number:2}}</td>
                                        <td class="text-right">{{alerta.precio | number:2}}</td>
                                    </tr>   
                                </tbody>
                            </div>
                        </table>
                        <pagination total-items="alertaLista.length" ng-model="currentPage"
                class="pagination-sm" items-per-page="itemsPerPage"></pagination>                        
                    </div>
                    <div class="col-sm-5">
                        <div class="panel panel-default">
                            <div class="panel-heading">Articulos afectados</div>
                            <div class="panel-body">
                                <table class="table table-bordered table-condensed table-hover">
                                    <thead>
                                        <tr>
                                            <th class="text-center">Articulo</th>
                                            <th class="text-center">Nuevo costo</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="articulo in listaArticulo" class="link">
                                            <td>{{articulo.Nombre}}</td>
                                            <td class="text-right">{{articulo.NuevoCosto | number:2}}</td>
                                        </tr>   
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>                    
                </div>
            </fieldset>

            <a class="btn btn-primary">
                <span class='glyphicon glyphicon-hand-up'>
                ACTUALIZAR COSTOS DE INSUMOS
                </span>
            </a>
        </br></br>

            <fieldset class="fieldset-border">
                <legend class="legend-border">Insumos de {{producto.Nombre}}</legend>
                    <div class="row">
                        <div class="col-md-12">
                            <div id="gridProductos">
                                <table class="table table-bordered table-condensed table-hover">
                                    <thead>
                                        <tr>
                                            <th class="text-center">Insumo</th>
                                            <th class="text-center">U.M</th>
                                            <th class="text-right">Cantidad</th>
                                            <th class="text-right">Costo Unit.</th>
                                            <th class="text-right">Importe</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                         <tr ng-repeat="item in Insumos" class="link">  
                               <!--            <td class="text-right">{{ selected.item.nombre }}</td>   -->
                                        <td>{{item.Nombre}}</td>
                                        <td class="text-center">{{item.UnidadMedida}}</td>
                                        <td class="text-right">{{item.Cantidad | number:3}}</td>
                                        <td class="text-right">{{item.Costo | number:2}}</td>
                                        <td class="text-right">{{item.Importe | number:2}}</td> 
                                        </tr> 
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>                          
            </fieldset>

            <table>
                <div class="form-group row col-md-3">
                    <a class="btn btn-primary" ng-click="actualizar()">
                        <span class='glyphicon glyphicon-hand-up'>
                        SIMULAR PRECIO
                        </span>
                    </a>
                </div>
                <div class="form-group row col-md-3">
                    <a class="btn btn-primary">
                        <span class='glyphicon glyphicon-hand-up'>
                        CANCELAR
                        </span>
                    </a>
                </div>
                <div class="form-group row col-md-3">
                    <a class="btn btn-primary">
                        <span class='glyphicon glyphicon-hand-up'>
                        ENVIAR A APROBACIÓN
                        </span>
                    </a>
                </div>  
            </table>

            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group">
                        <label for="inputType" class="col-md-2 control-label">Nuevo Costo:</label>
                            <div class="col-md-4">
                                <input type="text" ng-model="producto.Costo" class="form-control" disabled>
                            </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-6">
                    <div class="form-group">
                        <label for="inputType" class="col-md-2 control-label">Nuevo Precio:</label>
                            <div class="col-md-4">
                                <input type="text" ng-model="producto.Precio" class="form-control" disabled>
                            </div>
                    </div>
                </div>
            </div>
		</fieldset>
	</div>
</div>